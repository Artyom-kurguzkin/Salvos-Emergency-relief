# display_services.yml
---
include:
  - database.yml
  - questions.yml
---
objects:
  - display_places: DAList.using(there_are_any=True, auto_gather=False)
---
code: |
  # Initialize the list to store display_places
  for place in database:
    if lives_in_sa:
      service = False  # Default to False

      # Check if the service matches the user's needs
      if needs and place['services'] in needs:
        service = True

      # If the service matches, add it to display_places
      if service:
        display_places.append(place)

  display_places.gathered = True
---